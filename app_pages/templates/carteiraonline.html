{% load static %}

<!doctype html>
<html class="fixed sidebar-left-collapsed">
	<head>

		<!-- Basic -->
		<meta charset="UTF-8">

		<title>Dados inseridos no banco de dados</title>
		<meta name="keywords" content="HTML5 Admin Template" />
		<meta name="description" content="Porto Admin - Responsive HTML5 Template">
		<meta name="author" content="okler.net">

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

		<link href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
		<link href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.dataTables.min.css" rel="stylesheet" type="text/css" />
		<link href="https://cdn.datatables.net/searchbuilder/1.4.2/css/searchBuilder.dataTables.min.css" rel="stylesheet" type="text/css" />
		<link href="https://cdn.datatables.net/datetime/1.4.1/css/dataTables.dateTime.min.css" rel="stylesheet" type="text/css" />		

		<!-- Icons -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<!-- Web Fonts  -->
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800|Shadows+Into+Light" rel="stylesheet" type="text/css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href='{% static "assets/vendor/bootstrap/css/bootstrap.css" %}'/>
		<link rel="stylesheet" href='{% static "assets/vendor/font-awesome/css/font-awesome.css" %}'  />
		<link rel="stylesheet" href='{% static "assets/vendor/magnific-popup/magnific-popup.css" %}'  />
		<link rel="stylesheet" href='{% static "assets/vendor/bootstrap-datepicker/css/datepicker3.css" %}'  />

		<!-- Specific Page Vendor CSS -->
		<link rel="stylesheet" href='{% static "assets/vendor/select2/select2.css" %}' />
		<link rel="stylesheet" href='{% static "assets/vendor/jquery-datatables-bs3/assets/css/datatables.css" %}'/>

		<!-- Theme CSS -->
		<link rel="stylesheet" href='{% static "assets/stylesheets/theme.css" %}' />

		<!-- Skin CSS -->
		<link rel="stylesheet" href='{% static "assets/stylesheets/skins/default.css" %}' />

		<!-- Theme Custom CSS -->
		<link rel="stylesheet" href='{% static "assets/stylesheets/theme-custom.css" %}'/>

		<!-- Head Libs -->
		<script src='{% static "assets/vendor/modernizr/modernizr.js" %}'></script>

	</head>
	<body>
		<section class="body">

			<!-- start: header -->
			<header class="header">
				<div class="logo-container">
					<a href="../" class="logo">
						
					</a>
					<div class="visible-xs toggle-sidebar-left" data-toggle-class="sidebar-left-opened" data-target="html" data-fire-event="sidebar-left-opened">
						<i class="fa fa-bars" aria-label="Toggle sidebar"></i>
					</div>
				</div>	 
			</header>
			<!-- end: header -->


			<div class="inner-wrapper">
				<!-- start: sidebar -->
				<aside id="sidebar-left" class="sidebar-left">
				
					<div class="sidebar-header">
						<div class="sidebar-title">
							Menu
						</div>
						<div class="sidebar-toggle hidden-xs" data-toggle-class="sidebar-left-collapsed" data-target="html" data-fire-event="sidebar-left-toggle">
							<i class="fa fa-bars" aria-label="Toggle sidebar"></i>
						</div>
					</div>
				
					<div class="nano">
						<div class="nano-content">
							<nav id="menu" class="nav-main" role="navigation">
								<ul class="nav nav-main">
									<li class="nav-active">
										<a href="{% url 'index' %}">
											<i class="fa fa-home" aria-hidden="True"></i>
											<span>Dashboard</span>
										</a>
									</li>

									<li class="nav-parent">
										<a>
											<i class="fa fa-university" aria-hidden="true"></i>
											<span>Carteira</span>
										</a>
										<ul class="nav nav-children">
											<li>
												<a href="{}">
													 movimentação
												</a>
											</li>
											<li>
												<a href="{% url 'carteiraonline' %}">
													 consultar carteira
												</a>
											</li>
										</ul>
									</li>	
									
									<li class="nav-parent">
										<a>
											<i class="fa fa-university" aria-hidden="true"></i>
											<span>Consulta</span>
										</a>
										<ul class="nav nav-children">
											<li>
												<a href="{% url 'query' %}">
													 Extrator
												</a>
											</li>
											<li>
												<a href="{% url 'carteiraonline' %}">
													 Carteira On-line
												</a>
											</li>
										</ul>
									</li>																						
									<li class="nav-parent">
										<a>
											<i class="fa fa-sign-out" aria-hidden="true"></i>
											<span>Sair</span>
										</a>
										<ul class="nav nav-children">
											<li>
												<a href="{% url 'logout' %}">
													 logout
												</a>
										</li>
									</nav>						
								</div>				
							</div>				
						</aside>
				<!-- end: sidebar -->

				<section role="main" class="content-body">
					<header class="page-header">
						<h2>Consultar Carteira</h2>
					
						<div class="right-wrapper pull-right">
							<ol class="breadcrumbs">
								<li>
									<a href="">
										<i class="fa fa-home"></i>
									</a>
								</li>
								<li><span>Extratos</span></li>
								<li><span>Download-Data</span></li>
							</ol>
					
							<a class="sidebar-right-toggle" ><i class="fa fa-chevron-left"></i></a> 
						</div>
					</header>

					<!-- start: page -->
					
						
						<section class="panel" >
							<header class="panel-heading" >
								<div class="panel-actions" >
									<a href= "#" class="fa fa-caret-down"></a>
									<a href= "#" class="fa fa-times"></a>
								</div>
						
								<h2 class="panel-title" >Carteira Online</h2>
								<p class="panel-subtitle"></p>

								

							</header>
							<div class="panel-body">								
								<table class="table table-bordered table-striped mb-none" id="datatable-tabletools" data-swf-path='{% static "assets/vendor/jquery-datatables/extras/TableTools/swf/copy_csv_xls_pdf.swf" %}'>
									<thead>
										
										<tr>
											<!-- <th>Id</th> -->
											<th>Projeto</th>
											<th>Obra</th>
											<th>Padronizado</th>
											<th>Início Fat/</th>
											<th>Limit_Envio_Rel</th>
											<th>Dt_Limit_Fat</th>
											<th>Prazo_Fat_Original</th>
											<th>Prazo_Fat_Dias</th>
											<th>Analista</th>
											<th>Vlr_Previsto</th> 
											<th>Fat_Anterior</th>
											<th>Receita</th>
											<th>Status_Fat</th>
											<th>Status_Pedido</th>
											<th>Análise_Pedido</th>
											<th>Vlr_Atual</th> 
										</tr>
									</thead>
									<tbody>
									{% for transaction in carteira_database_data %}
										
										<tr class="gradeX">
											<!-- <td>{{ transaction.typeTransaction }}</td> -->
											<td style="font-size: 11px; text-align: center;">{{ transaction.projeto|default:" - "}}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.codigo_cliente|default:" - " }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.padronizado|default:" - "|stringformat:"s"  }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.inicio_de_faturamento|default:" - "|stringformat:"s" }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.limite_para_enviar_relatorio|default:" - "|floatformat:0 }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.data_limite_para_faturar|default:" - " }}</td>											
											<td style="font-size: 11px; text-align: center;">{{ transaction.prazo_faturamento_original|default:" - " }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.prazo_faturamento_dias_uteis|default:" - "|floatformat:0 }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.analista|default:" - " }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.valor_previsto|default:" - "|floatformat:2 }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.faturamento_anterior|default:" - "|floatformat:2 }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.receita|default:" - " }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.status_do_faturamento|default:" - " }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.status_pedido|default:" - " }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.analise_pedido|default:" - " }}</td>
											<td style="font-size: 11px; text-align: center;">{{ transaction.valor_atual|default:" - " }}</td>
										</tr>
										{% endfor %}																				
									</tbody>
								</table>
							</div>
						</section>
						
						
			
		<!-- Vendor -->
		<script src='{% static "assets/vendor/jquery/jquery.js" %}'></script>
		<script src='{% static "assets/vendor/jquery-browser-mobile/jquery.browser.mobile.js" %}'></script>
		<script src='{% static "assets/vendor/bootstrap/js/bootstrap.js" %}'></script>
		<script src='{% static "assets/vendor/nanoscroller/nanoscroller.js" %}'></script>
		<script src='{% static "assets/vendor/bootstrap-datepicker/js/bootstrap-datepicker.js" %}'></script>
		<script src='{% static "assets/vendor/magnific-popup/magnific-popup.js" %}'></script>
		<script src='{% static "assets/vendor/jquery-placeholder/jquery.placeholder.js" %}'></script>
		
		<!-- Specific Page Vendor -->
		<script src='{% static "assets/vendor/select2/select2.js" %}'></script>
		<script src='{% static "assets/vendor/jquery-datatables/media/js/jquery.dataTables.js" %}'></script>
		<script src='{% static "assets/vendor/jquery-datatables/extras/TableTools/js/dataTables.tableTools.min.js" %}'></script>
		<script src='{% static "assets/vendor/jquery-datatables-bs3/assets/js/datatables.js" %}'></script>
		
		<!-- Theme Base, Components and Settings -->
		<script src='{% static "assets/javascripts/theme.js" %}'></script>
		
		<!-- Theme Custom -->
		<script src='{% static "assets/javascripts/theme.custom.js" %}'></script>
		
		<!-- Theme Initialization Files -->
		<script src='{% static "assets/javascripts/theme.init.js" %}'></script>


		<!--DataTables Libs-->
		<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
		<script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
		<script src="https://cdn.datatables.net/searchbuilder/1.4.2/js/dataTables.searchBuilder.min.js"></script>
		<script src="https://cdn.datatables.net/datetime/1.4.1/js/dataTables.dateTime.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
		<script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
		<script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>

		<!--Manipulando DataTable-->
		<script>
			$(document).ready(function(){
				$('#datatable-tabletools').DataTable({					
					dom: 'QBfrtlip',
        			buttons: [
           				 'copy', 'csv', 'excel', 'pdf', 'print'
        			],	
					paging: true,
					ordering: true,
					info: true,
					searching: true,
					autoWidth: false,
					scrollX: true,
					searchBuilder: {
						conditions: {
							num:{
								'between': {
									search: function(value, comparison) {
										if (+comparison[0] < +comparison[1]) {
											return +comparison[0] <= +value && +value <= +comparison[1];
										}
										else {
											return +comparison[1] <= +value && +value <= +comparison[0];
										} 
									}
								}
							}
						}

					},


					language: {
						"sEmptyTable": "Nenhum registro encontrado",
						"sInfo": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
						"sInfoEmpty": "Mostrando 0 até 0 de 0 registros",
						"sInfoFiltered": "(Filtrados de _MAX_ registros)",
						"sInfoPostFix": "",
						"sInfoThousands": ".",
						"sLengthMenu": "_MENU_ resultados por página",
						"sLoadingRecords": "Carregando...",
						"sProcessing": "Processando...",
						"sZeroRecords": "Nenhum registro encontrado",
						"sSearch": "Pesquisar",
						"oPaginate": {
							"sNext": "Próximo",
							"sPrevious": "Anterior",
							"sFirst": "Primeiro",
							"sLast": "Último"
						},
						"oAria": {
							"sSortAscending": ": Ordenar colunas de forma ascendente",
							"sSortDescending": ": Ordenar colunas de forma descendente"
						},
						"buttons": {
							"copy": "Copiar",
							"csv": "CSV",
							"excel": "Excel",
							"pdf": "PDF",
							"print": "Imprimir"
						},
						 // Tradução para "Condição

						searchBuilder: {
							condition : 'Condição', // Tradução para 'Condição
							title : '',
							add : 'Busca Avançada',
							value : 'Valor',
							clearAll: 'Limpar tudo',							
							conditions: {
							  string: {
								// Outras traduções...
								contains: 'Contém', // Tradução para "Contém"
								empty: 'Vazio',
								endsWith: 'Termina com',
								equals: 'Igual a',
								greater: 'Maior que',
								greaterOrEqual: 'Maior ou igual a',
								less: 'Menor que',
								lessOrEqual: 'Menor ou igual a',
								not: 'Não',
								startsWith: 'Começa com',
								notEmpty: 'Não vazio',
								notContains: 'Não contém',
								notStartsWith: 'Não começa com',
								notEndsWith: 'Não termina com',
								notEquals: 'Diferente de' // Tradução para "Diferente de"
							  }
							}
						}
					},

				});
			});		
				
		</script>
	</body>
</html>




<!-- EXTRATOR = projeto, obra, cod_cliente, class faturamento, status pedido, valor bruto, valor total pedido, vlr total faturamento -->
<!-- TB APOIO = analista, dt envio relatorio, dt limite faturamento, vlr anterior faturado, diferenca,  -->


